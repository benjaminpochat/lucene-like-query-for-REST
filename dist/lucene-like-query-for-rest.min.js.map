{"version":3,"sources":["../src/Attribute.js","../src/Completer.js","../src/Converter.js","../src/NaturalQueryProcessor.js","../src/Parser.js","../src/RestTokenBuilder.js"],"names":["CONTITION_TYPE_SIMPLE_EQUAL","CONTITION_TYPE_GREATER_OR_EQUAL","CONTITION_TYPE_LOWER_OR_EQUAL","CONTITION_TYPE_MULTI_VALUE","CONTITION_TYPE_EQUAL_WITH_WHITESPACES","CONTITION_TYPE_RANGE","Attribute","this","naturalName","possibleValues","mappedValues","restAPIUrl","restMapperCallback","authorizedConditionTypes","Completer","attributes","parser","Parser","getPossibleCompletedQueries","string","isLastTokenAttributeName","getMatchingAttributes","getMatchingValues","lastConditionCurrentlyTyped","getLastConditionCurrentlyTyped","attributeNames","getAttributeNames","$","ui","autocomplete","filter","getMatchingAttributesPatterns","attributeValue","colonIndex","indexOf","attributeName","substring","comaIndex","lastIndexOf","attributePossibleValues","getPossibleValues","undefined","attribute","getAttribute","getPossibleValuesFromRestAPI","getPossibleValuesFromTableOfValues","i","length","value","ajax","url","context","document","body","async","success","result","map","Array","complete","selectedItem","fullConditionsAsString","fullConditionsAsArray","splitConditions","fullConditionsLength","completedNaturalQuery","label","completeMultiValueFilter","completeSimpleValueFilter","fullConditions","isSelectItemContainsBlanks","lastComaIndex","attributeNameAndFirstValues","Converter","selector","destinationFormat","ODATA","restTokenBuilder","RestTokenBuilder","convert","naturalQuery","val","convertNaturalQuery","naturalConditions","restQuery","convertNaturalCondition","getAndRestToken","naturalCondition","match","buildConditionRegExp","SIMPLE_EQUAL_PATTERN","convertSimpleEqualCondition","EQUAL_WITH_WHITE_SPACE_PATTERN","convertEqualConditionWhiteSpace","MULTI_VALUE_PATTERN","convertMultiValueCondition","GREATER_OR_EQUAL_PATTERN","convertGreaterOrEqualThanCondition","LOWER_OR_EQUAL_PATTERN","convertLowerOrEqualThanCondition","RANGE_PATTERN","convertRangeCondition","convertSimpleCondition","getEqualRestToken","getGreaterOrEqualRestToken","getLowerOrEqualRestToken","naturalConditionOperator","restConditionOperator","separatorIndex","naturalValue","restValue","getRestValue","key","getStringDelimiterRestToken","searchAttribute","searchMultiValues","split","restCondition","getLeftParenthesisRestToken","getOrRestToken","getRightParenthesisRestToken","searchValueWithSpace","rangeValues","rangeValuesArray","NaturalQuery","restFormat","NaturalQueryProcessor","completer","process","callbackFunction","selectFunction","updateValueAfterSelect","position","my","at","source","select","focus","request","response","console","log","term","event","completedString","item","buildNaturalQueryRegExp","RegExp","pattern","naturalQueryRegExp","cleanString","replace","trim","FIQL"],"mappings":"AAAA,GAAIA,6BAA8B,8BAC9BC,gCAAkC,kCAClCC,8BAAgC,gCAChCC,2BAA6B,6BAC7BC,sCAAwC,wCACxCC,qBAAuB,uBAKvBC,UAAY,WAGfC,KAAKC,YAAc,KAGnBD,KAAKE,eAAiB,KAKtBF,KAAKG,aAAe,KAGpBH,KAAKI,WAAa,KAGlBJ,KAAKK,mBAAqB,KAI1BL,KAAKM,yBAA2B,MC5B7BC,UAAY,SAAUC,GACzBR,KAAKQ,WAAaA,EAClBR,KAAKS,OAAS,GAAIC,QAKlBV,KAAKW,4BAA8B,SAAUC,GAC5C,MAAKZ,MAAKS,OAAOI,yBAA0BD,GAEnCZ,KAAKc,sBAAuBF,GAG5BZ,KAAKe,kBAAmBH,IAOjCZ,KAAKc,sBAAwB,SAAUF,GACtC,GAAII,GAA8BhB,KAAKS,OAAOQ,+BAA+BL,GACzEM,EAAiBlB,KAAKmB,mBAC1B,OAAOC,GAAEC,GAAGC,aAAaC,OAAOL,EAAgBF,IAQjDhB,KAAKwB,8BAAgC,SAAUZ,GAC9C,MAAO,OAMRZ,KAAKe,kBAAoB,SAAUH,GAClC,GAGIa,GAHAT,EAA8BhB,KAAKS,OAAOQ,+BAA+BL,GACzEc,EAAaV,EAA4BW,QAAQ,KACjDC,EAAgBZ,EAA4Ba,UAAU,EAAGH,EAE7D,IAAGV,EAA4BW,QAAQ,KAAO,EAAE,CAC/C,GAAIG,GAAYd,EAA4Be,YAAY,IACxDN,GAAiBT,EAA4Ba,UAAUC,EAAY,OAEnEL,GAAiBT,EAA4Ba,UAAUH,EAAa,EAErE,IAAIM,GAA0BhC,KAAKiC,kBAAmBL,EACtD,OAAiCM,UAA5BF,EACG,KAEAZ,EAAEC,GAAGC,aAAaC,OAAOS,EAAyBP,IAI3DzB,KAAKiC,kBAAoB,SAAUL,GAClC,GAAIO,GAAYnC,KAAKoC,aAAaR,EAClC,OAA8BM,UAAzBC,EAAU/B,WACPJ,KAAKqC,6BAA8BF,GAETD,SAA7BC,EAAUjC,eACPF,KAAKsC,mCAAoCH,GADjD,QAMDnC,KAAKsC,mCAAqC,SAAWH,GACpD,GAAOA,EAAUhC,aAEV,CAGN,IAFA,GAAID,MACAqC,EAAI,EACAA,EAAIJ,EAAUjC,eAAesC,QACpCtC,EAAeqC,GAAKJ,EAAUjC,eAAeqC,GAAGE,MAChDF,GAED,OAAOrC,GARP,MAAOiC,GAAUjC,gBAYnBF,KAAKqC,6BAA+B,SAAWF,GAC9C,GAAIjC,GAAiB,IASrB,OARAkB,GAAEsB,MACDC,IAAKR,EAAU/B,WACfwC,QAASC,SAASC,KAClBC,OAAO,EACNC,QAAS,SAAUC,GAClB/C,EAAiB+C,EAAOC,IAAIf,EAAU9B,uBAGlCH,GAGRF,KAAKmB,kBAAoB,WACxB,GAAID,GAAiB,GAAIiC,OAAM3C,EAAWgC,OAC1C,KAAKD,EAAI,EAAIA,EAAI/B,EAAWgC,OAASD,IACpCrB,EAAeqB,GAAK/B,EAAW+B,GAAGtC,WAEnC,OAAOiB,IAGRlB,KAAKoC,aAAe,SAAUR,GAC7B,IAAKW,EAAI,EAAIA,EAAI/B,EAAWgC,OAASD,IACpC,GAAG/B,EAAW+B,GAAGtC,aAAe2B,EAC/B,MAAOpB,GAAW+B,IAKrBvC,KAAKoD,SAAW,SAAUxC,EAAQyC,GACjC,GAAIC,GAAyB,GACzBC,EAAwBvD,KAAKS,OAAO+C,gBAAgB5C,GACpDI,EAA8BhB,KAAKS,OAAOQ,+BAA+BL,EAE7E,IAAgC,OAA3B2C,EAAkC,CACtC,GAAIE,GAAuBF,EAAsBf,MAIjD,KAHGe,EAAsBE,EAAuB,IAAMzC,IACrDyC,GAAwB,GAEpBlB,EAAI,EAAIA,EAAIkB,EAAuBlB,IACvCe,GAA0BC,EAAsBhB,GAAK,IAIvD,GAAImB,GAAwB,EAU5B,OARCA,GADE1D,KAAKS,OAAOI,yBAAyBD,GACf0C,EAAyBD,EAAaM,MAAQ,IAEnE3C,EAA4BW,QAAQ,KAAO,EACrB3B,KAAK4D,yBAAyBN,EAAwBtC,EAA6BqC,GAEnFrD,KAAK6D,0BAA0BP,EAAwBtC,EAA6BqC,IAM/GrD,KAAK6D,0BAA4B,SAASC,EAAgB9C,EAA6BqC,GACtF,GAAIK,GAAwB,GACxBhC,EAAaV,EAA4BW,QAAQ,KACjDC,EAAgBZ,EAA4Ba,UAAU,EAAGH,EAAa,GAEtEqC,GAD6B/C,EAA4BW,QAAQ,KAAO,EAC3C0B,EAAaM,MAAMhC,QAAQ,KAAO,EAMnE,OAJC+B,GADEK,EACsBD,EAAiBlC,EAAgB,IAAOyB,EAAaM,MAAQ,KAE7DG,EAAiBlC,EAAgByB,EAAaM,MAAQ,KAKhF3D,KAAK4D,yBAA2B,SAASE,EAAgB9C,EAA6BqC,GACrF,GAAIK,GAAwB,GACxBM,EAAgBhD,EAA4Be,YAAY,KACxDkC,EAA8BjD,EAA4Ba,UAAU,EAAGmC,EAAgB,GACvFD,EAA6BV,EAAaM,MAAMhC,QAAQ,KAAO,CAMnE,OAJC+B,GADEK,EACsBD,EAAiBG,EAA8B,IAAOZ,EAAaM,MAAQ,KAE3EG,EAAiBG,EAA8BZ,EAAaM,MAAQ,MCzJ3FO,UAAY,SAAUC,EAAW3D,EAAa4D,GACjDpE,KAAKoE,kBAA0ClC,SAAtBkC,EAAkCC,MAAQD,EACnEpE,KAAKsE,iBAAmB,GAAIC,kBAAiBvE,KAAKoE,mBAClDpE,KAAKQ,WAAaA,EAClBR,KAAKS,OAAS,GAAIC,QAKlBV,KAAKwE,QAAU,WACd,GAAIC,GAAerD,EAAG+C,GAAWO,KACjC,OAAO1E,MAAK2E,oBAAoBF,IAMjCzE,KAAK2E,oBAAsB,SAAUF,GAGpC,IAAM,GAFFG,GAAoB5E,KAAKS,OAAO+C,gBAAiBiB,GACjDI,EAAY,GACNtC,EAAI,EAAIA,EAAIqC,EAAkBpC,OAASD,IAE/CsC,EADQ,IAANtC,EACUvC,KAAK8E,wBAAyBF,EAAkBrC,IAEhDsC,EAAY7E,KAAKsE,iBAAiBS,kBAAoB/E,KAAK8E,wBAAyBF,EAAkBrC,GAGpH,OAAOsC,IAGR7E,KAAK8E,wBAA0B,SAAUE,GACxC,MAAGA,GAAiBC,MAAMjF,KAAKS,OAAOyE,qBAAqBlF,KAAKS,OAAO0E,uBAC/DnF,KAAKoF,4BAA4BJ,GAEtCA,EAAiBC,MAAMjF,KAAKS,OAAOyE,qBAAqBlF,KAAKS,OAAO4E,iCAC/DrF,KAAKsF,gCAAgCN,GAE1CA,EAAiBC,MAAMjF,KAAKS,OAAOyE,qBAAqBlF,KAAKS,OAAO8E,sBAC/DvF,KAAKwF,2BAA2BR,GAErCA,EAAiBC,MAAMjF,KAAKS,OAAOyE,qBAAqBlF,KAAKS,OAAOgF,2BAC/DzF,KAAK0F,mCAAmCV,GAE7CA,EAAiBC,MAAMjF,KAAKS,OAAOyE,qBAAqBlF,KAAKS,OAAOkF,yBAC/D3F,KAAK4F,iCAAiCZ,GAE3CA,EAAiBC,MAAMjF,KAAKS,OAAOyE,qBAAqBlF,KAAKS,OAAOoF,gBAC/D7F,KAAK8F,sBAAsBd,GADnC,QAKDhF,KAAKoF,4BAA8B,SAAUJ,GAC5C,MAAOhF,MAAK+F,uBAAwBf,EAAkB,IAAKhF,KAAKsE,iBAAiB0B,sBAGlFhG,KAAK0F,mCAAqC,SAAUV,GACnD,MAAOhF,MAAK+F,uBAAwBf,EAAkB,IAAKhF,KAAKsE,iBAAiB2B,+BAGlFjG,KAAK4F,iCAAmC,SAAUZ,GACjD,MAAOhF,MAAK+F,uBAAuBf,EAAkB,IAAKhF,KAAKsE,iBAAiB4B,6BAGjFlG,KAAK+F,uBAAyB,SAC5Bf,EACAmB,EACAC,GACD,GAAIC,GAAiBrB,EAAiBrD,QAASwE,GAC3CvE,EAAgBoD,EAAiBnD,UAAW,EAAGwE,GAC/CC,EAAetB,EAAiBnD,UAAWwE,EAAe,GAC1DE,EAAYvG,KAAKwG,aAAc5E,EAAe0E,EAClD,OAAO1E,GAAgBwE,EAAwBG,GAGhDvG,KAAKoC,aAAe,SAAUR,GAC7B,GAAyBM,SAApBlC,KAAKQ,YAAgD,OAApBR,KAAKQ,WAC1C,MAAO,KAER,KAAM+B,EAAI,EAAIA,EAAIvC,KAAKQ,WAAWgC,OAASD,IAC1C,GAAKvC,KAAKQ,WAAW+B,GAAGtC,aAAe2B,EACtC,MAAO5B,MAAKQ,WAAW+B,IAK1BvC,KAAKwG,aAAe,SAAW5E,EAAe0E,GAC7C,GACIC,GADApE,EAAYnC,KAAKoC,aAAcR,EAEnC,IAAiBM,SAAdC,GAAyC,OAAdA,EAC7BoE,EAAaD,MAET,IAAOnE,EAAUhC,aAGrB,IAAMoC,EAAI,EAAIA,EAAIJ,EAAUjC,eAAesC,OAASD,IAC9CJ,EAAUjC,eAAeqC,GAAGE,OAAS6D,IACzCC,EAAYpE,EAAUjC,eAAeqC,GAAGkE,SAJ1CF,GAAYD,CASb,OAAOtG,MAAKsE,iBAAiBoC,8BAAgCH,EAAYvG,KAAKsE,iBAAiBoC,+BAGhG1G,KAAKwF,2BAA6B,SAAUR,GAK3C,IAAK,GAJDqB,GAAiBrB,EAAiBrD,QAAQ,KAC1CgF,EAAkB3B,EAAiBnD,UAAU,EAAGwE,GAChDO,EAAoB5B,EAAiBnD,UAAUwE,EAAe,GAAGQ,MAAM,KACvEC,EAAgB9G,KAAKsE,iBAAiByC,8BACjCxE,EAAI,EAAIA,EAAIqE,EAAkBpE,OAASD,IAC3CA,EAAI,IACPuE,GAAiB9G,KAAKsE,iBAAiB0C,kBAExCF,GAAiBH,EAChB3G,KAAKsE,iBAAiB0B,oBACtBhG,KAAKsE,iBAAiBoC,8BACtBE,EAAkBrE,GAClBvC,KAAKsE,iBAAiBoC,6BAGxB,OADAI,IAAiB9G,KAAKsE,iBAAiB2C,gCAIxCjH,KAAKsF,gCAAkC,SAAUN,GAChD,GAAIqB,GAAiBrB,EAAiBrD,QAAQ,KAC1CgF,EAAkB3B,EAAiBnD,UAAU,EAAGwE,GAChDa,EAAuBlC,EAAiBnD,UAAUwE,EAAe,EACrEa,GAAuBA,EAAqBrF,UAAU,EAAGqF,EAAqB1E,OAAS,EACvF,IAAIsE,GACHH,EACA3G,KAAKsE,iBAAiB0B,oBACtBhG,KAAKwG,aAAcG,EAAkBO,EACtC,OAAOJ,IAGR9G,KAAK8F,sBAAwB,SAAUd,GACtC,GAAIqB,GAAiBrB,EAAiBrD,QAAQ,KAC1CgF,EAAkB3B,EAAiBnD,UAAU,EAAGwE,GAChDc,EAAcnC,EAAiBnD,UAAUwE,EAAe,EAC5Dc,GAAcA,EAAYtF,UAAU,EAAGsF,EAAY3E,OAAS,EAC5D,IAAI4E,GAAmBD,EAAYN,MAAM,KACrCC,EACHH,EACA3G,KAAKsE,iBAAiB2B,6BACtBjG,KAAKsE,iBAAiBoC,8BACtBU,EAAiB,GACjBpH,KAAKsE,iBAAiBoC,8BACtB1G,KAAKsE,iBAAiBS,kBACtB4B,EACA3G,KAAKsE,iBAAiB4B,2BACtBlG,KAAKsE,iBAAiBoC,8BACtBU,EAAiB,GACjBpH,KAAKsE,iBAAiBoC,6BACvB,OAAOI,KCpKLO,aAAe,SAAWlD,EAAU3D,EAAY8G,GACnD,MAAO,IAAIC,uBAAwBpD,EAAU3D,EAAY8G,IAGtDC,sBAAwB,SAAWpD,EAAU3D,EAAY8G,GAC5D,GAAIE,GAAY,GAAIjH,WAAUC,EAK9BR,MAAKyH,QAAU,WACd,GAAIC,GAAmB1H,KAAKiC,kBACxB0F,EAAiB3H,KAAK4H,sBAY1B,OAXAxG,GAAE,WACDA,EAAG+C,GAAW7C,cACbuG,UAAYC,GAAK,YAAaC,GAAI,gBAClCC,OAAQN,EACRO,OAAQN,EACRO,MAAO,WAEN,OAAO,OAIH,GAAIhE,WAAWC,EAAU3D,EAAY8G,IAG7CtH,KAAKiC,kBAAoB,SAAWkG,EAASC,GAC5CC,QAAQC,IAAI,gBAAkBH,EAAQI,MACtCrI,eAAiBsH,EAAU7G,4BAA4BwH,EAAQI,MAC/DH,EAASlI,iBAGVF,KAAK4H,uBAAyB,SAAUY,EAAOnH,GAC9C,GAAIoH,GAAkBjB,EAAUpE,SAASpD,KAAKyC,MAAOpB,EAAGqH,KAExD,OADAtH,GAAE+C,GAAUO,IAAI+D,IACT,IC9BL/H,OAAS,WACZV,KAAKmF,qBAAiC,2BACtCnF,KAAKyF,yBAAiC,2BACtCzF,KAAK2F,uBAAiC,2BACtC3F,KAAKuF,oBAAiC,wFACtCvF,KAAKqF,+BAAiC,yBACtCrF,KAAK6F,cAAqB,4BAE1B7F,KAAK2I,wBAA0B,WAC9B,MAAO,IAAIC,QACT,IAAM5I,KAAKuF,oBAAsB,MAC1BvF,KAAKmF,qBAAuB,MAC5BnF,KAAKyF,yBAA2B,MAChCzF,KAAK2F,uBAAyB,MAC9B3F,KAAKqF,+BAAiC,MACtCrF,KAAK6F,cAAgB,IAC7B,MAGF7F,KAAKkF,qBAAuB,SAAU2D,GACrC,MAAO,IAAID,QAAQ,IAAMC,EAAU,IAAK,MAGzC7I,KAAKwD,gBAAkB,SAAUiB,GAChC,GAAIqE,GAAqB9I,KAAK2I,0BAC1B/D,EAAoBH,EAAaQ,MAAM6D,EAC3C,OAAOlE,IAGR5E,KAAKa,yBAA2B,SAAUD,GACzC,GAAII,GAA8BhB,KAAKiB,+BAAgCL,EACvE,QAAQI,EAA4BiE,MAAM,cAG3CjF,KAAKiB,+BAAiC,SAAUL,GAC/C,GAAIkD,GAAiB9D,KAAKwD,gBAAiB5C,GACvCmI,EAAcnI,CAClB,IAAyB,OAApBkD,EACJ,IAAMvB,EAAI,EAAIA,EAAIuB,EAAetB,OAASD,IAEzCwG,EAAcA,EAAYC,QAAQ,OAAO,IACzCD,EAAcA,EAAYC,QAAQlF,EAAevB,GAAI,GAOvD,OAJuB,cAAhBwG,GAA+C,KAAhBA,GAA6C,OAApBjF,IAC9DiF,EAAcjF,EAAeA,EAAetB,OAAS,IAGnCN,SAAhB6G,EACKA,EAEDA,EAAYE,QCpDrB,MAAM5E,OAAQ,QACR6E,KAAO,MAGb,IAAI3E,kBAAmB,SAAUH,GAChCpE,KAAKoE,kBAAoBA,EAEzBpE,KAAKgG,kBAAoB,WACxB,OAAOhG,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,MACR,KAAK6E,MACJ,MAAO,KAER,MAAO,OAIRlJ,KAAKiG,2BAA6B,WACjC,OAAOjG,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,MACR,KAAK6E,MACJ,MAAO,OAER,MAAO,OAGRlJ,KAAKkG,yBAA2B,WAC/B,OAAOlG,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,MACR,KAAK6E,MACJ,MAAO,OAER,MAAO,OAGRlJ,KAAK+E,gBAAkB,WACtB,OAAO/E,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,OACR,KAAK6E,MACJ,MAAO,IAER,MAAO,OAGRlJ,KAAKgH,eAAiB,WACrB,OAAOhH,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,MACR,KAAK6E,MACJ,MAAO,IAER,MAAO,OAGRlJ,KAAK0G,4BAA8B,WAClC,OAAO1G,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,GACR,KAAK6E,MACJ,MAAO,GAER,MAAO,OAGRlJ,KAAK+G,4BAA8B,WAClC,OAAO/G,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,IACR,KAAK6E,MACJ,MAAO,IAER,MAAO,OAGRlJ,KAAKiH,6BAA+B,WACnC,OAAOjH,KAAKoE,mBACZ,IAAKC,OACJ,MAAO,IACR,KAAK6E,MACJ,MAAO,IAER,MAAO","file":"lucene-like-query-for-rest.min.js"}